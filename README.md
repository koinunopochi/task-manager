# Redmine + MCP ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

Redmineã¨MCP (Model Context Protocol) ã‚’çµ„ã¿åˆã‚ã›ãŸã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
Claudeã‹ã‚‰Redmineã‚’ç›´æ¥æ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. Redmineã‚’èµ·å‹•ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ä»˜ãï¼‰
```bash
# ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦åˆæœŸåŒ–ï¼ˆæ¨å¥¨ï¼‰
make reset

# ã¾ãŸã¯æ—¢å­˜ã®Redmineã‚’èµ·å‹•
make up
```

### 2. MCP Redmine Serverã‚’è¨­å®š
```bash
# Redmineã®ç®¡ç†ç”»é¢ã§APIã‚­ãƒ¼ã‚’å–å¾—å¾Œ
claude mcp add redmine npx @koinunopochi/mcp-redmine \
  -e REDMINE_URL=http://localhost:15350 \
  -e REDMINE_API_KEY=your-api-key-here
```

### 3. Claudeã§ä½¿ç”¨
Claudeã§ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ãŒä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ï¼š
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãƒ»ç®¡ç†
- ã‚¤ã‚·ãƒ¥ãƒ¼ï¼ˆãƒã‚±ãƒƒãƒˆï¼‰ã®ä½œæˆãƒ»æ›´æ–°
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚„ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®ç¢ºèª

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
ã‚¿ã‚¹ã‚¯ç®¡ç†/
â”œâ”€â”€ docker-compose.yml    # Redmine Dockerè¨­å®š
â”œâ”€â”€ .env                  # ç’°å¢ƒå¤‰æ•°ï¼ˆè¦ä½œæˆï¼‰
â”œâ”€â”€ Makefile             # ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰é›†
â”œâ”€â”€ mcp-redmine/         # MCP Redmine Server
â”‚   â”œâ”€â”€ src/            # TypeScriptã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ dist/           # ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ README.md       # MCPè©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è©³ç´°

### å‰ææ¡ä»¶
- Docker Desktop
- Node.js 16ä»¥ä¸Š
- Claude Desktop App

### æ‰‹é †

#### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/koinunopochi/task-manager.git
cd task-manager
```

#### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp .env.example .env
# å¿…è¦ã«å¿œã˜ã¦.envã‚’ç·¨é›†ï¼ˆé€šå¸¸ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§OKï¼‰
```

#### 3. Redmineã®åˆæœŸåŒ–
```bash
# Redmineã‚’èµ·å‹•ã—ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰
make reset
```

ã“ã‚Œã«ã‚ˆã‚Šä»¥ä¸‹ãŒè‡ªå‹•è¨­å®šã•ã‚Œã¾ã™ï¼š
- ãƒˆãƒ©ãƒƒã‚«ãƒ¼ï¼ˆãƒã‚°ã€æ©Ÿèƒ½ã€ã‚µãƒãƒ¼ãƒˆï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæ–°è¦ã€é€²è¡Œä¸­ã€è§£æ±ºã€å´ä¸‹ã€çµ‚äº†ï¼‰
- å„ªå…ˆåº¦ï¼ˆä½ã‚ã€é€šå¸¸ã€é«˜ã‚ã€æ€¥ã„ã§ã€ä»Šã™ãï¼‰
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»ï¼‰

#### 4. Redmineã®APIã‚­ãƒ¼å–å¾—
1. http://localhost:15350 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼å: `admin` / ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `admin` ã§ãƒ­ã‚°ã‚¤ãƒ³
3. å³ä¸Šã®ã€Œå€‹äººè¨­å®šã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å³å´ã®ã€ŒAPIã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã€ã®ã€Œè¡¨ç¤ºã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. è¡¨ç¤ºã•ã‚ŒãŸã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼

#### 5. MCPè¨­å®š
```bash
# é–‹ç™ºç‰ˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã®distã‚’ä½¿ç”¨ï¼‰
cd mcp-redmine
npm install
npm run build
cd ..

claude mcp add-json redmine-local '{
  "command": "node",
  "args": ["'$(pwd)'/mcp-redmine/dist/index.js"],
  "env": {
    "REDMINE_URL": "http://localhost:15350",
    "REDMINE_API_KEY": "ã‚³ãƒ”ãƒ¼ã—ãŸAPIã‚­ãƒ¼"
  }
}'

# ã¾ãŸã¯å…¬é–‹ç‰ˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
claude mcp add redmine npx @koinunopochi/mcp-redmine \
  -e REDMINE_URL=http://localhost:15350 \
  -e REDMINE_API_KEY=ã‚³ãƒ”ãƒ¼ã—ãŸAPIã‚­ãƒ¼
```

## ğŸ“š ä½¿ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰

### Makeã‚³ãƒãƒ³ãƒ‰
```bash
make up       # Redmineã‚’èµ·å‹•
make down     # Redmineã‚’åœæ­¢
make restart  # Redmineã‚’å†èµ·å‹•
make logs     # ãƒ­ã‚°ã‚’è¡¨ç¤º
make ps       # ã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ã‚’è¡¨ç¤º
make init-db  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰
make reset    # ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦åˆæœŸåŒ–ï¼ˆæ¨å¥¨ï¼‰
make clean    # ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚ã¦å®Œå…¨ã«å‰Šé™¤
make help     # ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
```

### Claudeå†…ã§ã®Redmineæ“ä½œ
- `redmine_project_list` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
- `redmine_project_create` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- `redmine_issue_list` - ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§
- `redmine_issue_create` - ã‚¤ã‚·ãƒ¥ãƒ¼ä½œæˆ
- `redmine_issue_update` - ã‚¤ã‚·ãƒ¥ãƒ¼æ›´æ–°
- ãã®ä»–å¤šæ•°ï¼ˆè©³ç´°ã¯[mcp-redmine/README.md](mcp-redmine/README.md)å‚ç…§ï¼‰

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Redmineã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
- DockerãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒãƒ¼ãƒˆ15350ãŒä»–ã®ã‚¢ãƒ—ãƒªã§ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
- `make logs`ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

### MCPãŒå‹•ä½œã—ãªã„
- APIã‚­ãƒ¼ãŒæ­£ã—ã„ã‹ç¢ºèª
- Claude Desktopã‚’å†èµ·å‹•
- `claude mcp list`ã§è¨­å®šã‚’ç¢ºèª

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒå¤‰æ›´ã§ããªã„
- `make init-db`ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç®¡ç†ç”»é¢ã§ç¢ºèª

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ğŸ¤ è²¢çŒ®

Issueã€Pull Requestã¯æ­“è¿ã§ã™ï¼

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€[Issues](https://github.com/koinunopochi/task-manager/issues)ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚